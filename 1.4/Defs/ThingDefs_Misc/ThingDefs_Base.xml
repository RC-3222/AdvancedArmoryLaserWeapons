<?xml version="1.0" encoding="UTF-8"?>
<Defs>

	<!-- ====================== Base ====================== -->
	<!-- ====================== Weapons ====================== -->
	<ThingDef Name="AmP_AdvArm_BaseLaserGun" Abstract="True" ParentName="BaseHumanMakeableGun">
		<techLevel>Ultra</techLevel>

		<tradeTags>
			<li>SpacerGun</li>
		</tradeTags>

		<weaponTags>
			<li>AmP_AdvArm_LaserGun</li>
			<li>SpacerGun</li>
			<li>LaserGun</li>
		</weaponTags>

		<thingSetMakerTags Inherit="False">
			<li>RewardStandardLowFreq</li>
			<li>RewardStandardQualitySuper</li>
		</thingSetMakerTags>

		<recipeMaker>
			<researchPrerequisite>AmP_AdvArm_LaserWeapons</researchPrerequisite>
			<skillRequirements>
				<Crafting>10</Crafting>
			</skillRequirements>
			<recipeUsers Inherit="False">
				<li>FabricationBench</li>
			</recipeUsers>
		</recipeMaker>

	</ThingDef>


	<!-- ====================== Projectiles ====================== -->

	<!-- ========== Setup ========== -->

	<ThingDef>
		<defName>AmP_AdvArm_BeamGraphic</defName>
		<label>laser beam</label>
		<thingClass>AthenaFramework.Beam</thingClass>
		<graphicData>
			<texPath>Things/Projectile/AmP_AdvArm_Projectile_LaserRed</texPath>
			<shaderType>TransparentPostLight</shaderType>
			<graphicClass>Graphic_Single</graphicClass>
			<!-- A bit longer to account for invisible base projectile -->
			<drawSize>(1, 1.05)</drawSize>
		</graphicData>
		<drawOffscreen>true</drawOffscreen>

		<category>Projectile</category>
		<tickerType>Normal</tickerType>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<useHitPoints>false</useHitPoints>
		<selectable>false</selectable>
		<neverMultiSelect>true</neverMultiSelect>
		<drawerType>RealtimeOnly</drawerType>

		<modExtensions>
			<li Class="AthenaFramework.BeamExtension">
				<maxRange>150.9</maxRange>
				<textureFrameAmount>1</textureFrameAmount>
				<sizeTextureAmount>1</sizeTextureAmount>
				<!--<beamDuration>5</beamDuration>-->
			</li>
		</modExtensions>
		<comps>
			<li Class="AthenaFramework.CompProperties_BeamFadeout">
				<fadeoutTicks>10</fadeoutTicks>
			</li>
		</comps>
	</ThingDef>

	<!-- =========================== -->

	<ThingDef ParentName="BaseBullet" Name="AmP_AdvArm_Bullet_MilitaryLaserBase" Abstract="True">
		<label>laser shot</label>
		<description>A focused laser beam.</description>
		<graphicData>
			<graphicClass>Graphic_Single</graphicClass>
			<!-- This graphic doesn't really matter here as the visuals are handled by the corresponding BeamGraphic -->
			<texPath>Things/Projectile/AmP_AdvArm_Projectile_LaserRed</texPath>

			<!-- To hide the projectile completely -->
			<drawSize>0</drawSize>
			<color>(0,0,0,0)</color>
		</graphicData>
		<comps>
			<li Class="AthenaFramework.CompProperties_ProjectileTrail">
				<beamDef>AmP_AdvArm_BeamGraphic</beamDef>
			</li>
			
			<li Class="AthenaFramework.CompProperties_ProjectileImpactEffect">
				<effecter>AmP_AdvArm_Effecter_LaserImpact</effecter>
			</li>
		</comps>
		
		<projectile>
			<speed>220</speed>
		</projectile>
	</ThingDef>

</Defs>